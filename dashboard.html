<!doctype html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Vinzz Externall - Dashboard</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Arial',sans-serif}
body{background:#090b1a;color:white;padding-bottom:80px}
/* HEADER TITLE */
.title{text-align:center;padding-top:25px}
.title h1{font-size:28px;font-weight:700;color:#c291ff;letter-spacing:3px}
.title p{font-size:13px;margin-top:4px;color:#b8b8b8}
/* HEADER VIDEO */
.header-box{width:92%;margin:20px auto;padding:6px;border-radius:20px;background:#3f20ff40;border:1px solid #6e4cff;box-shadow:0 0 18px #6e4cff70}
.header-video{width:100%;height:180px;object-fit:cover;border-radius:15px}
/* USER CARD */
.user-card{width:92%;margin:18px auto;padding:18px;background:linear-gradient(135deg,#7b2bff,#b634ff);border-radius:20px;box-shadow:0 0 25px #b634ff60}
.user-card p{font-size:16px;margin:4px 0}
/* MENU GRID */
.grid{width:92%;margin:25px auto;display:grid;grid-template-columns:1fr 1fr;gap:15px}
.box{background:#15152a;border:1px solid #272753;border-radius:18px;padding:25px 10px;text-align:center;box-shadow:0 0 12px #7a36ff40;transition:0.2s;cursor:pointer}
.box:hover{transform:scale(1.04);box-shadow:0 0 20px #7a36ff70}
.box img{width:42px;margin-bottom:10px}
.box p{margin-top:5px;font-size:16px}
/* BOTTOM NAV */
.bottom{position:fixed;bottom:0;left:0;width:100%;height:70px;background:#101020;border-top:1px solid #262646;display:flex;justify-content:center;align-items:center}
.bottom div{text-align:center}
.bottom img{width:32px;opacity:0.8}
.bottom p{font-size:13px;margin-top:4px;color:#c7c7c7}
</style>
</head>
<body>

<div class="title">
  <h1>VINZZ EXTERNALL</h1>
  <p>PREMIUM SECURITY TOOLS</p>
</div>

<div class="header-box">
  <video class="header-video" autoplay muted loop>
    <source src="https://files.catbox.moe/3bvjk8.mov" type="video/mp4">
  </video>
</div>

<div class="user-card">
  <p><b>Username:</b> <span id="usernameDisplay">Loading...</span></p>
  <p><b>Role:</b> <span id="roleDisplay">Loading...</span></p>
  <p><b>Expired:</b> 17-12-9999</p>
</div>

<div class="grid">

  <!-- WhatsApp Attack -->
  <div class="box" onclick="window.location.href='waattack.html'">
    <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png">
    <p>BUG TOOLS</p>
  </div>

  <!-- Add User -->
  <div class="box" id="addUserMenu" onclick="window.location.href='adduser.html'">
    <img src="https://cdn-icons-png.flaticon.com/512/456/456212.png">
    <p>ADD KEY</p>
  </div>

</div>

<div class="bottom">
  <div>
    <img src="https://cdn-icons-png.flaticon.com/512/25/25694.png">
    <p>HOME</p>
  </div>
</div>

<script>
const GITHUB_DB_URL = "https://raw.githubusercontent.com/justvinzoffc/APK-BUG-VINZZ-EXTERNALL/main/keys.json";

// Ambil username dari query string
const params = new URLSearchParams(window.location.search);
const username = params.get("user");

if(!username){
    alert("Silahkan login terlebih dahulu!");
    window.location.href = "index.html";
} else {
    document.getElementById("usernameDisplay").innerText = username;

    fetch(GITHUB_DB_URL + "?t=" + Date.now())
    .then(res => res.json())
    .then(data => {
        const user = data.users.find(u => u.username === username);
        if(!user){
            alert("User tidak ditemukan di database!");
            window.location.href = "index.html";
            return;
        }

        // Tampilkan role
        document.getElementById("roleDisplay").innerText = user.role;

        // Tampilkan Add User hanya jika owner
        const addUserMenu = document.getElementById("addUserMenu");
        if(user.role === "owner"){
            addUserMenu.style.display = "block";
        } else {
            addUserMenu.style.display = "none";
        }
    })
    .catch(err => {
        console.error(err);
        alert("Error To Connection Database");
    });
}
</script>

</body>
</html>